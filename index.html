<html>
        
<head> 
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
</head>

<body>

<div class="container jumbotron mt-3">
        <div class="row">
                <h2>Calcular la distancia entre dos puntos</h2>
        </div>
        <div class="row mt-3">
                
                <div class="col-md-4 mb-3">
                        <h3 class="text-primary">Primer punto</h3>
                        <label for="lat1"> Latitud </label>
                        <input class="form form-control" id="lat1" >
                </div>
                <div class="col-md-4">
                        <h3 class="text-primary">Segundo punto</h3>
                        <label for="lat2"> Latitud </label>
                        <input class="form form-control" id="lat2" >
                </div>
        </div>

        <div class="row">
                
                <div class="col-md-4 mb-3">
                        <label for="long1"> Longitud </label>
                        <input class="form form-control" id="long1" >
                        <button id="calcular" class="btn btn-primary mt-2">Calcular</button>
                </div>
                <div class="col-md-4">
                        <label for="long2"> Longitud </label>
                        <input class="form form-control" id="long2" >
                
                </div>
        </div>

        <div class="row">
                <div class="col-md-5">
                        <div id="result" class="container alert alert-dark p-5"></div>
                </div>

        </div>
</div>

        <script>

                var pass 
                document.getElementById('calcular').addEventListener('click', function(){
                        pass =true;
                        let lat1 = document.getElementById('lat1').value !="" ? document.getElementById('lat1').value : msg('latitud 1')
                        let lat2 = document.getElementById('lat2').value !="" ? document.getElementById('lat2').value : msg('latitud 2')
                        let lon1 = document.getElementById('long1').value !="" ? document.getElementById('long1').value: msg('longitud 1')
                        let lon2 = document.getElementById('long2').value !="" ? document.getElementById('long2').value: msg('longitud 2')

                        if(pass){
                                var R = 6371; // el diametro de la tierra en km
                                var dLat = (lat2-lat1)* Math.PI / 180;
                                var dLon = (lon2-lon1)* Math.PI / 180;
                                var a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                                        Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                                        Math.sin(dLon/2) * Math.sin(dLon/2);
                                var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
                                var d = R * c;
                                let response = d.toFixed(2);
                                document.getElementById('result').innerHTML ="La distancia total es: "+response+" KM"
                        }

                })
       
                function msg(data){
                        pass = false;
                        alert("Falta: "+data)
                }

                
        </script>

</body>
        

</html>
